{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load i18n %}
{% block title %}{% trans "My Carrier Consent" %}{% endblock title %}
{% block content %}
    {% if not carrier_consent %}
        <div class="row">
            <div class="col col-12">
                <div class="alert alert-danger">You do not have  any assignment yet !</div>
            </div>
        </div>
    {% else %}
        <div class="card">
            <div class="card-header">
                <h2>{% trans "Assignment information" %}</h2>
            </div>
            <div class="card-body">
                <h3>My Assignment</h3>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Date: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.date}} </span>
                </div>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Student: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.assignement_upon.trainee.first_name}} {{carrier_consent.assignement_upon.trainee.last_name}}</span>
                </div>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Register Number: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.assignement_upon.trainee.first_name}} {{carrier_consent.assignement_upon.trainee.last_name}}</span>
                </div>
                <hr>
                <h3>Position details</h3>
                <br>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Position: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.assignement_upon.trainee_position.title}}</span>
                </div>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Carrier: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.assignement_upon.trainee_position.carrier.official_name}}</span>
                </div>
                <div style="margin-bottom: 1rem;"> 
                    <b style="font-size: 1.5rem;"> Assignment period: </b> 
                    <span style="font-size: 1.3rem;" > {{carrier_consent.assignement_upon.assignment_period.from_date}} - {{carrier_consent.assignement_upon.assignment_period.to_date}}</span>
                </div>
            </div>
            <div class="card-footer">
                {% if not report %}
                        <a href="{% url 'applicant:report_create' carrier_consent.assignement_upon.pk %}" class="btn btn-lg btn-success ">{% trans "Upload Internship Report" %}</a>
                {% else %}
                <hr>
                    <h3>My Internship report</h3>
                    <div style="margin-bottom: 1rem;"> 
                        <b style="font-size: 1.5rem;"> File: </b> 
                        <span style="font-size: 1.3rem;" > <a href="{{report.report_file.url}}">{{report.report_file}}/></span>
                    </div>
                    <div style="margin-bottom: 1rem;"> 
                        <b style="font-size: 1.5rem; "> Date: </b> 
                        <span style="font-size: 1.3rem;"> {{report.date}} </span>
                    </div>
                    <div style="margin-bottom: 1rem;"> 
                        <b style="font-size: 1.5rem; "> Comments: </b> 
                        <span style="font-size: 1.3rem;"> {{report.comments}} </span>
                    </div>
                    <p><b>Comments: </b> {{report.comments}}</p>
                    <a href="{% url 'applicant:report_update' carrier_consent.assignement_upon.pk report.pk %}" class="btn btn-lg btn-success ">{% trans "Update Internship Report" %}</a>
                {% endif %}
            </div>
        </div>
    {% endif %}
{% endblock content %}